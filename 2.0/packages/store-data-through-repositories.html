<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Repositories | Krayin CRM Developer Portal</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/favicon.ico">
    <meta name="description" content="Krayin CRM Developer Portal">
    <meta name="title" content="Krayin CRM Developer Portal">
    
    <link rel="preload" href="/assets/css/0.styles.1ed5ee10.css" as="style"><link rel="preload" href="/assets/js/app.5d38d0a2.js" as="script"><link rel="preload" href="/assets/js/2.bcb643b7.js" as="script"><link rel="preload" href="/assets/js/1.e9496b70.js" as="script"><link rel="preload" href="/assets/js/91.d5ea4617.js" as="script"><link rel="prefetch" href="/assets/js/10.00fc3841.js"><link rel="prefetch" href="/assets/js/100.03378d22.js"><link rel="prefetch" href="/assets/js/101.e4f2b802.js"><link rel="prefetch" href="/assets/js/102.3808d1a2.js"><link rel="prefetch" href="/assets/js/103.265bfcb9.js"><link rel="prefetch" href="/assets/js/104.9f1bb2e4.js"><link rel="prefetch" href="/assets/js/105.5028db63.js"><link rel="prefetch" href="/assets/js/106.2578f07d.js"><link rel="prefetch" href="/assets/js/107.b13b690d.js"><link rel="prefetch" href="/assets/js/108.a4d6dc40.js"><link rel="prefetch" href="/assets/js/109.346bacf8.js"><link rel="prefetch" href="/assets/js/11.e3517ae5.js"><link rel="prefetch" href="/assets/js/110.e53647b0.js"><link rel="prefetch" href="/assets/js/111.815220f7.js"><link rel="prefetch" href="/assets/js/112.efa742b8.js"><link rel="prefetch" href="/assets/js/113.2c667a3b.js"><link rel="prefetch" href="/assets/js/114.893b2922.js"><link rel="prefetch" href="/assets/js/115.8e42713f.js"><link rel="prefetch" href="/assets/js/116.b51d9363.js"><link rel="prefetch" href="/assets/js/117.4f5499df.js"><link rel="prefetch" href="/assets/js/118.e31eb00e.js"><link rel="prefetch" href="/assets/js/119.2c2e60fb.js"><link rel="prefetch" href="/assets/js/12.83da2f8b.js"><link rel="prefetch" href="/assets/js/120.4cc2e5f8.js"><link rel="prefetch" href="/assets/js/121.bcdd386b.js"><link rel="prefetch" href="/assets/js/122.32359b9e.js"><link rel="prefetch" href="/assets/js/123.ec8cad7b.js"><link rel="prefetch" href="/assets/js/124.f44422e2.js"><link rel="prefetch" href="/assets/js/125.1618b7c3.js"><link rel="prefetch" href="/assets/js/126.a53a9125.js"><link rel="prefetch" href="/assets/js/127.de31efcf.js"><link rel="prefetch" href="/assets/js/128.7fdd6b87.js"><link rel="prefetch" href="/assets/js/129.3aded88b.js"><link rel="prefetch" href="/assets/js/13.d8465b78.js"><link rel="prefetch" href="/assets/js/130.58fa98a7.js"><link rel="prefetch" href="/assets/js/131.47d4b1fc.js"><link rel="prefetch" href="/assets/js/132.7169d7c9.js"><link rel="prefetch" href="/assets/js/133.3a45fb74.js"><link rel="prefetch" href="/assets/js/134.4b50557e.js"><link rel="prefetch" href="/assets/js/135.5309fffa.js"><link rel="prefetch" href="/assets/js/136.33d9f129.js"><link rel="prefetch" href="/assets/js/137.341c64fd.js"><link rel="prefetch" href="/assets/js/138.78107b49.js"><link rel="prefetch" href="/assets/js/14.9a8c4301.js"><link rel="prefetch" href="/assets/js/15.6aaad42e.js"><link rel="prefetch" href="/assets/js/16.d258c8b8.js"><link rel="prefetch" href="/assets/js/17.b356fb02.js"><link rel="prefetch" href="/assets/js/18.65dedfc1.js"><link rel="prefetch" href="/assets/js/19.07220835.js"><link rel="prefetch" href="/assets/js/20.433bb60d.js"><link rel="prefetch" href="/assets/js/21.db46fc4a.js"><link rel="prefetch" href="/assets/js/22.0c5ac42f.js"><link rel="prefetch" href="/assets/js/23.6cdb8291.js"><link rel="prefetch" href="/assets/js/24.c91b75b9.js"><link rel="prefetch" href="/assets/js/25.a7c5e3a1.js"><link rel="prefetch" href="/assets/js/26.b90c2942.js"><link rel="prefetch" href="/assets/js/27.4b10438b.js"><link rel="prefetch" href="/assets/js/28.84b8f63b.js"><link rel="prefetch" href="/assets/js/29.dbe7a15d.js"><link rel="prefetch" href="/assets/js/3.0bba0e66.js"><link rel="prefetch" href="/assets/js/30.ec60c2dd.js"><link rel="prefetch" href="/assets/js/31.eeda4097.js"><link rel="prefetch" href="/assets/js/32.75589d82.js"><link rel="prefetch" href="/assets/js/33.0fc90c18.js"><link rel="prefetch" href="/assets/js/34.c083d865.js"><link rel="prefetch" href="/assets/js/35.affcd9ca.js"><link rel="prefetch" href="/assets/js/36.adc54fc0.js"><link rel="prefetch" href="/assets/js/37.8ebff93d.js"><link rel="prefetch" href="/assets/js/38.c18bcfbc.js"><link rel="prefetch" href="/assets/js/39.2da0eb94.js"><link rel="prefetch" href="/assets/js/4.7ae04960.js"><link rel="prefetch" href="/assets/js/40.0d8a3315.js"><link rel="prefetch" href="/assets/js/41.b0e56006.js"><link rel="prefetch" href="/assets/js/42.5b658ee8.js"><link rel="prefetch" href="/assets/js/43.576d09ce.js"><link rel="prefetch" href="/assets/js/44.92dff303.js"><link rel="prefetch" href="/assets/js/45.511cd635.js"><link rel="prefetch" href="/assets/js/46.a9c1aa26.js"><link rel="prefetch" href="/assets/js/47.e8fa0fec.js"><link rel="prefetch" href="/assets/js/48.abf6bd5a.js"><link rel="prefetch" href="/assets/js/49.6f22f1d2.js"><link rel="prefetch" href="/assets/js/5.1e2be65f.js"><link rel="prefetch" href="/assets/js/50.40beedc8.js"><link rel="prefetch" href="/assets/js/51.353efbc6.js"><link rel="prefetch" href="/assets/js/52.36f1d12f.js"><link rel="prefetch" href="/assets/js/53.7c2ee094.js"><link rel="prefetch" href="/assets/js/54.c834e55b.js"><link rel="prefetch" href="/assets/js/55.d141de76.js"><link rel="prefetch" href="/assets/js/56.79d94472.js"><link rel="prefetch" href="/assets/js/57.df2c3c94.js"><link rel="prefetch" href="/assets/js/58.72c4926d.js"><link rel="prefetch" href="/assets/js/59.2634ee87.js"><link rel="prefetch" href="/assets/js/60.9055b14d.js"><link rel="prefetch" href="/assets/js/61.2c514780.js"><link rel="prefetch" href="/assets/js/62.c50a3b3c.js"><link rel="prefetch" href="/assets/js/63.1c84ceb8.js"><link rel="prefetch" href="/assets/js/64.951487b6.js"><link rel="prefetch" href="/assets/js/65.7e62db06.js"><link rel="prefetch" href="/assets/js/66.5dbb6dc3.js"><link rel="prefetch" href="/assets/js/67.0bb0c68b.js"><link rel="prefetch" href="/assets/js/68.79286fd9.js"><link rel="prefetch" href="/assets/js/69.fd7073d1.js"><link rel="prefetch" href="/assets/js/70.6ae61a6f.js"><link rel="prefetch" href="/assets/js/71.c14ad429.js"><link rel="prefetch" href="/assets/js/72.78e6b7bb.js"><link rel="prefetch" href="/assets/js/73.e03b56ab.js"><link rel="prefetch" href="/assets/js/74.4fb40b0f.js"><link rel="prefetch" href="/assets/js/75.35d930df.js"><link rel="prefetch" href="/assets/js/76.372d14da.js"><link rel="prefetch" href="/assets/js/77.0d0e9ea2.js"><link rel="prefetch" href="/assets/js/78.804eb2d3.js"><link rel="prefetch" href="/assets/js/79.d141aa7a.js"><link rel="prefetch" href="/assets/js/8.148d1e30.js"><link rel="prefetch" href="/assets/js/80.6e9e7899.js"><link rel="prefetch" href="/assets/js/81.d5307065.js"><link rel="prefetch" href="/assets/js/82.76d216fe.js"><link rel="prefetch" href="/assets/js/83.3e14997a.js"><link rel="prefetch" href="/assets/js/84.648ff165.js"><link rel="prefetch" href="/assets/js/85.8db16b88.js"><link rel="prefetch" href="/assets/js/86.8458b959.js"><link rel="prefetch" href="/assets/js/87.12841cdd.js"><link rel="prefetch" href="/assets/js/88.84f8938a.js"><link rel="prefetch" href="/assets/js/89.d3aadebd.js"><link rel="prefetch" href="/assets/js/9.4a353e45.js"><link rel="prefetch" href="/assets/js/90.12d93146.js"><link rel="prefetch" href="/assets/js/92.57b44e94.js"><link rel="prefetch" href="/assets/js/93.5811766c.js"><link rel="prefetch" href="/assets/js/94.1bc5695c.js"><link rel="prefetch" href="/assets/js/95.5d7cf676.js"><link rel="prefetch" href="/assets/js/96.6a233528.js"><link rel="prefetch" href="/assets/js/97.b8a8f452.js"><link rel="prefetch" href="/assets/js/98.320c78fe.js"><link rel="prefetch" href="/assets/js/99.9f0f4efa.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.67744eba.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1ed5ee10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="top-nav"><div class="nav-text"></div></div> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Krayin CRM Developer Portal" class="logo"> <span class="site-name can-hide">Krayin CRM Developer Portal</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://docs.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  User Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <div class="nav-item"><select><option value="master">Master</option> <option value="2.0">2.0</option> <option value="1.x" selected="selected">1.x</option></select></div></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://docs.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  User Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://forums.krayincrm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Forum
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/krayin/laravel-crm" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute to Krayin CRM
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://krayincrm.com/contacts/" target="_blank" rel="noopener noreferrer" class="nav-item">
    Contact Us
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <div class="nav-item"><select><option value="master">Master</option> <option value="2.0">2.0</option> <option value="1.x" selected="selected">1.x</option></select></div></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/prologue" class="sidebar-heading clickable"><span>Prologue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/introduction" class="sidebar-heading clickable"><span>Introduction</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/architecture" class="sidebar-heading clickable"><span>Architecture concepts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/packages" class="sidebar-heading clickable router-link-active open active"><span>Package Development</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/2.0/packages/create-package.html" class="sidebar-link">Getting Started</a></li><li><a href="/2.0/packages/create-migrations.html" class="sidebar-link">Migrations</a></li><li><a href="/2.0/packages/create-models.html" class="sidebar-link">Models</a></li><li><a href="/2.0/packages/store-data-through-repositories.html" aria-current="page" class="active sidebar-link">Repository</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2.0/packages/store-data-through-repositories.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/2.0/packages/store-data-through-repositories.html#dependency-injection" class="sidebar-link">Dependency Injection</a></li><li class="sidebar-sub-header"><a href="/2.0/packages/store-data-through-repositories.html#using-krayin-package-generator" class="sidebar-link">Using Krayin Package Generator</a></li><li class="sidebar-sub-header"><a href="/2.0/packages/store-data-through-repositories.html#manually-setting-up-repository-files" class="sidebar-link">Manually Setting Up Repository Files</a></li><li class="sidebar-sub-header"><a href="/2.0/packages/store-data-through-repositories.html#available-methods" class="sidebar-link">Available Methods</a></li></ul></li><li><a href="/2.0/packages/routes.html" class="sidebar-link">Routes</a></li><li><a href="/2.0/packages/controllers.html" class="sidebar-link">Controllers</a></li><li><a href="/2.0/packages/views.html" class="sidebar-link">Views</a></li><li><a href="/2.0/packages/localization.html" class="sidebar-link">Localization</a></li><li><a href="/2.0/packages/blade-components.html" class="sidebar-link">Blade Components</a></li><li><a href="/2.0/packages/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/2.0/packages/assets.html" class="sidebar-link">Assets</a></li><li><a href="/2.0/packages/add-menu-in-admin.html" class="sidebar-link">Admin Menu</a></li><li><a href="/2.0/packages/validation.html" class="sidebar-link">Validation</a></li><li><a href="/2.0/packages/datagrid.html" class="sidebar-link">DataGrid</a></li><li><a href="/2.0/packages/create-acl.html" class="sidebar-link">Access Control List</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/advanced" class="sidebar-heading clickable"><span>Digging Deeper</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/custom-attributes" class="sidebar-heading clickable"><span>Custom Attributes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/2.0/api" class="sidebar-heading clickable"><span>Krayin APIs</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="repositories"><a href="#repositories" class="header-anchor">#</a> Repositories</h1> <p></p><div class="table-of-contents"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#dependency-injection">Dependency Injection</a></li><li><a href="#using-krayin-package-generator">Using Krayin Package Generator</a><ul><li><a href="#create-a-new-repository-class">Create a New Repository Class</a></li><li><a href="#explanation">Explanation</a></li></ul></li><li><a href="#manually-setting-up-repository-files">Manually Setting Up Repository Files</a><ul><li><a href="#setting-up-categoryrepository-in-webkul-category-package">Setting Up CategoryRepository in Webkul/Category Package</a></li></ul></li><li><a href="#available-methods">Available Methods</a><ul><li><a href="#all">all</a></li><li><a href="#find">Find</a></li><li><a href="#findorfail">FindOrFail</a></li><li><a href="#create">Create</a></li><li><a href="#update">Update</a></li><li><a href="#delete">Delete</a></li><li><a href="#paginate">Paginate</a></li><li><a href="#findwhere">FindWhere</a></li></ul></li></ul></div><p></p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>In traditional development, application logic is often embedded in controllers. An alternative approach uses Repositories to abstract database operations and queries, promoting cleaner, more maintainable code.</p> <p>Repositories decouple models from controllers and provide readable names for complex queries. Each Repository class binds to an Eloquent model in its constructor, enabling the use of methods like <code>findOrFail</code>, <code>update</code>, and <code>all</code>. This separation enhances code readability, reusability, and adherence to the separation of concerns principle, making the application easier to manage and scale.</p> <h2 id="dependency-injection"><a href="#dependency-injection" class="header-anchor">#</a> Dependency Injection</h2> <p>Dependency Injection (DI) is a design pattern widely used in Laravel for managing class dependencies. It allows classes to receive their dependencies from an external source rather than creating them internally. This promotes loose coupling between classes, enhances reusability, and simplifies unit testing.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token keyword">protected</span> <span class="token class-name type-declaration">CategoryRepository</span> <span class="token variable">$categoryRepository</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>The <code>__construct()</code> method is defined with a parameter <code>$categoryRepository</code> typed as <code>CategoryRepository</code>.
Laravel's service container automatically resolves and injects an instance of <code>CategoryRepository</code> when an instance of the class containing this constructor is instantiated.</p> <p>This is a form of dependency injection where the <code>CategoryRepository</code> dependency is injected into the class through its constructor.</p> <h2 id="using-krayin-package-generator"><a href="#using-krayin-package-generator" class="header-anchor">#</a> Using Krayin Package Generator</h2> <p>The Krayin package generator provides a convenient way to create new components for your Krayin application. One of these components is the Repository class, which is essential for abstracting database interactions and promoting clean code architecture.</p> <h3 id="create-a-new-repository-class"><a href="#create-a-new-repository-class" class="header-anchor">#</a> Create a New Repository Class</h3> <p>To create a new Repository class, use the following command. This command creates a new Repository class in the <code>packages/Webkul/Category/src/Repository</code> directory.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>php artisan package:make <span class="token parameter variable">-repository</span> CategoryRepository Webkul/Category
</code></pre></div><h3 id="explanation"><a href="#explanation" class="header-anchor">#</a> Explanation</h3> <ul><li><strong>Command:</strong> The command <code>php artisan package:make -repository</code> is used to generate a new Repository class.</li> <li><strong>Repository Name:</strong> <code>CategoryRepository</code> is the name of the new Repository class that will be created.</li> <li><strong>Package Path:</strong> <code>Webkul/Category</code> specifies the package within the packages directory where the new Repository class will be created.</li></ul> <h2 id="manually-setting-up-repository-files"><a href="#manually-setting-up-repository-files" class="header-anchor">#</a> Manually Setting Up Repository Files</h2> <p>Manually setting up repository files involves creating and organizing repository classes in your application without relying on automated generators. This approach allows for custom structuring and naming conventions tailored to your project's needs. By manually managing repository files, developers can ensure precise control over code organization and maintain consistency across the application architecture.</p> <h3 id="setting-up-categoryrepository-in-webkul-category-package"><a href="#setting-up-categoryrepository-in-webkul-category-package" class="header-anchor">#</a> Setting Up CategoryRepository in Webkul/Category Package</h3> <p>Start by creating a <code>Repository</code> directory within the <code>Webkul/Category/src/</code> directory. This directory will house the repository class responsible for handling category-related database operations.Create a file named <code>CategoryRepository.php</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>  └── packages
      └── Webkul
          └── Category
              └── src
                  ├── ...
                  └── Repository
                      └── CategoryRepository.php
</code></pre></div><p>This file will contain the <code>CategoryRepository</code> class, which will encapsulate methods for interacting with category data.
Copy the following code into your newly created repository file.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Webkul<span class="token punctuation">\</span>Category<span class="token punctuation">\</span>Repository</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Webkul<span class="token punctuation">\</span>Core<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Repository</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">CategoryRepository</span> <span class="token keyword">extends</span> <span class="token class-name">Repository</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Specify the Model class name
     *
     * @return string
     */</span>
    <span class="token keyword">function</span> <span class="token function-definition function">model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">string</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string single-quoted-string">'Webkul\Category\Contracts\Category'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h2 id="available-methods"><a href="#available-methods" class="header-anchor">#</a> Available Methods</h2> <p>We are using the Prettus Repository package. You can find all available methods in the Prettus repository <a href="https://github.com/andersao/l5-repository?tab=readme-ov-file#methods" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Here are some examples:</p> <p>Examples:</p> <table><thead><tr><th>SN.</th> <th>Method</th> <th>Description</th></tr></thead> <tbody><tr><td>1</td> <td>all</td> <td>Find all results in the Repository</td></tr> <tr><td>2</td> <td>find</td> <td>Find a result by ID</td></tr> <tr><td>3</td> <td>findOrFail</td> <td>Retrieve a single resource by its ID or throw an exception if not found.</td></tr> <tr><td>4</td> <td>create</td> <td>Create a new resource.</td></tr> <tr><td>5</td> <td>update</td> <td>Update an existing resource by its ID.</td></tr> <tr><td>6</td> <td>delete</td> <td>Delete a resource by its ID.</td></tr> <tr><td>7</td> <td>paginate</td> <td>Find all results in the Repository with pagination</td></tr> <tr><td>8</td> <td>where</td> <td>Retrieve resource matching specific conditions.</td></tr> <tr><td>9</td> <td>first</td> <td>Retrieve the first resource matching specific conditions.</td></tr> <tr><td>10</td> <td>firstOrFail</td> <td>Retrieve the first resource matching specific conditions or throw an exception if not found.</td></tr> <tr><td>11</td> <td>With(['table_name'])</td> <td>Load the model relationships Eager load relationships</td></tr> <tr><td>12</td> <td>findWhereIn</td> <td>Find results by multiple values in one field</td></tr></tbody></table> <h3 id="all"><a href="#all" class="header-anchor">#</a> all</h3> <p>The all method is called on the categoryRepository instance. This method retrieves all records of the Category model from the database.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$categories</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="find"><a href="#find" class="header-anchor">#</a> Find</h3> <p>The find method is called on the categoryRepository instance. This method attempts to retrieve a Category model by its primary key.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$category</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="findorfail"><a href="#findorfail" class="header-anchor">#</a> FindOrFail</h3> <p>The findOrFail method is called on the categoryRepository instance. This method attempts to retrieve a Category model by its primary key and throws ModelNotFound Exception.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$category</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">findOrFail</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="create"><a href="#create" class="header-anchor">#</a> Create</h3> <p>The <code>create</code> method is called on the <code>categoryRepository</code> instance. This method is responsible for creating and saving a new instance of the <code>Category</code> model to the database.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$category</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="update"><a href="#update" class="header-anchor">#</a> Update</h3> <p>The <code>update</code> method is called on the <code>categoryRepository</code> instance. This method is responsible for updating a existing instance of the <code>Category</code> model to the database.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$category</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="delete"><a href="#delete" class="header-anchor">#</a> Delete</h3> <p>The <code>delete</code> method is called on the <code>categoryRepository</code> instance. This method is responsible for delete a existing instance of the <code>category</code> model to the database.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$category</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="paginate"><a href="#paginate" class="header-anchor">#</a> Paginate</h3> <p>The <code>paginate</code> method is called on the <code>categoryRepository</code> instance. This method is responsible for retrieving a paginated set of records for the <code>Category</code> model from the database.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Number of categories to be displayed per page.</span>
<span class="token variable">$perPage</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>

<span class="token comment">// Paginate the categories.</span>
<span class="token variable">$categories</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">paginate</span><span class="token punctuation">(</span><span class="token variable">$perPage</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="findwhere"><a href="#findwhere" class="header-anchor">#</a> FindWhere</h3> <p>The <code>findWhere</code> method is called on the categoryRepository instance. This method adds a query constraint to filter the results based on a specified condition.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$categories</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">categoryRepository</span><span class="token operator">-&gt;</span><span class="token function">findWhere</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'status'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'active'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <code>model()</code> method within CategoryRepository.php returns the path of your contract class (<code>CategoryContract</code> in this example). This method initializes the model instance used throughout the repository for database interactions.</p> <p>Your <code>CategoryRepository</code> is now set up and ready for use within your application. It encapsulates the logic for interacting with category data, following best practices for separation of concerns and promoting clean architecture.</p> <p>By utilizing the <code>CategoryRepository</code>, you can efficiently perform database operations related to categorys while maintaining a structured and maintainable codebase.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/krayin/krayin-docs/edit/master/docs/2.0/packages/store-data-through-repositories.md" target="_blank" rel="noopener noreferrer">Help us improve this page on Github.</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/14/2025, 9:46:48 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/2.0/packages/create-models.html" class="prev">
        Models
      </a></span> <span class="next"><a href="/2.0/packages/routes.html">
        Routes
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5d38d0a2.js" defer></script><script src="/assets/js/2.bcb643b7.js" defer></script><script src="/assets/js/1.e9496b70.js" defer></script><script src="/assets/js/91.d5ea4617.js" defer></script>
  </body>
</html>
